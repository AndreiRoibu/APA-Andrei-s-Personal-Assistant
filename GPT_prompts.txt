--------------------------------------------------------------------------------
0. Setup (Optional)
--------------------------------------------------------------------------------

You are my Swiss-appropriate, ATS-proof CV & cover letter assistant.
JD = job description.

Context
- Language: EN-US
- Files: cv.json is ground truth. No fabrication.

Tasks (global)
- Always align with the JD, and be concise, metric-first, factual, and defensive.
- If a critical fact is missing, ask ONE focused question per fact, then stop.
- For final CV outputs: one column, no tables/icons/text boxes, plain text + light Markdown.
Acknowledge readiness and list any blockers.

--------------------------------------------------------------------------------
1. JD-to-Candidate Audit & Gap Map
--------------------------------------------------------------------------------

Here is the JD for {{JOB}} at {{COMPANY}}. Help me put together a strong application.

Inputs
- JD: 

```
{{JD_TEXT_OR_URL}}
```

Task
- Extract: (a) Must-haves, (b) Nice-to-haves, (c) 10–15 exact keywords from the JD.
- Map each must-have to evidence from my JSONs (role, timeframe, metric). Mark status = Met / Partial / Gap.
- Identify any knowledge gaps; ask ONE crisp question if needed per gap.

Rules
- Use only facts in linkedin.json, technical_cv.json, nontechnical_cv.json, pm_cv.json or in this chat. Do NOT invent.
- You may use a simple table for the mapping (chat only). Final CV will be plain-text.

Deliverables
1. Must-haves mapping (Status | JD phrase | My evidence | Follow-up needed?).
2. Nice-to-haves mapping (same fields, shorter).
3. Keyword list (10–15) to weave into Profile, Skills, and >=1 Experience bullet.
4. One-sentence overall strength assessment (e.g., "Strong/Competitive/Stretch") with top risks.

--------------------------------------------------------------------------------
2. Gap Closure with my Additions
--------------------------------------------------------------------------------

Here is how I address the gaps:
{{MY_ADDITIONAL_INFO_BULLETS}}

Task
- Update the mapping with my answers.
- Only change statuses affected by the new information; leave the rest intact.
Reassess: Am I now a strong candidate? If not, what are the THREE highest-impact additions or mitigations I should provide?
- The THREE highest-impact additions or mitigations must be realistically achievable in < 2 hours, or should be marked as "for interview or future"

Deliverables
- Updated statuses (Met/Partial/Gap) + revised overall assessment.
- The top proof points to emphasize later in the Cover Letter.

--------------------------------------------------------------------------------
3. Tailor "Profile" 
--------------------------------------------------------------------------------

Thank you! Let's tailor just the "Profile". Keep other sections for later.

Constraints
- Start from "profile" in cv.json.
- Keep the same narative style; no simple listing of  keywords.
- Stay specific, concrete, and state USP: relevant competencies, interests, and values
- Propose minimal high-impact edits (<=15 words total change);
- Human-first and ATS-friendly.

Inputs
- JD, JSONs, and my additions above.

Deliverables
- Profile (final draft).
- Clearly indicate diff-style changes from original profile.

Quality Checks:
- Avoid generalisations and/or simple listing of adjectives with no explanation or evidence.
- Reserve detailed counts/impact for Experience.
- Reserve the verbatim listing of keywords, must-haves, and nice-to-haves for Skills.
- No new facts; ask ONE question if evidence is missing or weak for a claimed skill;
- Max 15 word total change vs. cv.json.

--------------------------------------------------------------------------------
4. Tailor "Skills"
--------------------------------------------------------------------------------

Okay. Moving on to "Skills".

Constraints
- Start from "skills" in cv.json.
- 7-8 bullets in total; Keep existing ones unless absolutely necessary to change them;
- Format: "theme : technologies/techniques".
- Propose smallest possible edigs to align with must-haves first, then nice-to-haves (<=10 words total change);
- Propose less important information removal;
- Do not duplicate keywords or ideas across bullets;

Inputs
- JD, JSONs, and my additions above.

Deliverables
- Skills (final draft).

Quality Checks:
- All bullets are backed by evidence and are defensible.
- No new facts; ask ONE question if evidence is missing or weak for a claimed skill;

--------------------------------------------------------------------------------
5. Micro-Review of Profile + Skills
--------------------------------------------------------------------------------

Thanks! Do the Profile and Skills {{Experience}} fully cover the JD must-haves, nice-to-haves, and keywords without bloat?

Task
- If coverage is incomplete, propose the smallest possible edits (<=15 words total change).
- If the length exceeds my style, trim it while preserving JD coverage.
- Return a "before - after" diff for any changed lines.

--------------------------------------------------------------------------------
6. Tailor "Experience"
--------------------------------------------------------------------------------

Thank you! Now tailor the Experience section.

Constraints
- Start from "experience" in cv.json.
- Weave JD keywords, must-haves, and nice-to-haves naturally by proposing the smallest possible edits to relevant bullets (<=10 words total change per bullet).
- At least one keyword appears in each relevant role. Highlight in bold.

Inputs
- JD + JSONs + my gap-closures.

Deliverables
- Rewritten bullets per role (only roles/bullets relevant to the JD).
- Ask ONE targeted question or suggest a truthful adjacent proof (domain/scale/tool) for any role where evidence is thin.

Quality Checks:
- All keywords present in experience bullets.
- All must-haves and nice-to-haves are showcased, except acknowledged gaps.

--------------------------------------------------------------------------------
7. Education, Certifications & Projects, Languages, Interests
--------------------------------------------------------------------------------

Excellent. Let's finalize the remaining sections.

Scope
- Start from "projects", "education", "certifications", and "skills" in cv.json.
- Review Projects, Education and Skills, and propose changes, if any are needed, to align with the JD.
- List the top 4-6 Certifications that must be included to align with the JD.

Rules
- No fabrication. If a project or certificate is borderline, justify inclusion in one line or omit.

Deliverables
- Only if a change is required, draft text for each section in plain text + light Markdown headings.
- Note any optional extras I could add while staying truthful.
- List of Certifications to include. 

--------------------------------------------------------------------------------
8. Whole‑CV Review vs. JD (PDF + raw)
--------------------------------------------------------------------------------

Here is the CV raw text:

```
{{PASTE_RAW_TEXT}}
```

Task
- Judge whether this CV makes me a strong candidate for the JD.
- Run an ATS & Swiss checklist.

Deliverables
- Verdict (Strong/Competitive/Stretch) + 3 reasons.
- High-impact edits (max 5), each <=20 words, referencing exact sections.
- ATS: style; consistent dates; normalized numerals/currency; JD keywords present in Profile, Skills, >=1 Experience bullet.
- EN-US corthography;

Quality Checks:
- Check context for full JD, must-haves, and nice-to-haves 

--------------------------------------------------------------------------------
9. Write the Cover Letter (<=250 words)
--------------------------------------------------------------------------------

Write a Swiss-appropriate cover letter for this JD.

Constraints
- <=250 words; formal;
- Focus on the most important must-haves;
- Use Dale Carnegie principles: focus on their interests, needs, and wants, and how I address them.

Structure:
- Paragraph 1 - You (the company): Hook; What fascinates and interests me about the company; Personal touch making message authentic.
- Paragraph 2 - Me (my qualifications): 2–3 proofs tied to JD must-haves with outcomes showing I meet criteria described, required, and desired by JD, making me a strong candidate; link experience and qualifications to JD, stating how skills are acquired/proven; 
- Paragraph 3 - We (closing): thank you; show interest in meeting to learn more about the company and the role;

Quality Checks:
- Nu superficial opening.
- No lifting passages verbatim from JD or company website.
- No listing of skills and requirements without specific, real, defensible examples.

Deliverables
- Full letter (<=250 words).

--------------------------------------------------------------------------------
10. Cover Letter Micro‑Review
--------------------------------------------------------------------------------

Here is the CL raw text:
```
{{PASTE_RAW_TEXT}}
```

Task
- Does the letter make me a strong candidate for the JD?
- If coverage is incomplete, propose minimal edits (<=30 words total).
- Keep tone and length; return a "before - after" diff for changed lines.
